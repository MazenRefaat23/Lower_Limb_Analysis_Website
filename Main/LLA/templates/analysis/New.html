{% extends "base.html" %}

{% load static %}

{% block title %}{{ sub.name }}{% endblock %}

{% block stylesheet %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.19.2/apexcharts.css" integrity="sha256-RQvFvTbXc2xbQ7Nw6YY7tReRz+eFDwRQIy7FEK7Za10=" crossorigin="anonymous" />

    <link rel="stylesheet" href="{% static 'analysis\new.css' %}" />
{% endblock %}

{% block homeClass %}{% endblock %}
{% block technicalClass %}{% endblock %}
{% block analysisClass %}active{% endblock %}
{% block predictionClass %}{% endblock %}
{% block aboutClass %}{% endblock %}

{% block content %}

   <div class="jumbotron jumbotron-fluid banner">
       <div class="container h100">
           <div class="contentBox">
               <div>
                   <h1 data-aos="fade-up" data-aos-duration="1000" data-aos-delay="500" >{{ sub.name }}</h1>
                   <p data-aos="fade-up" data-aos-duration="1000" data-aos-delay="1000">Age: {{sub.age}}</p>
                   <p data-aos="fade-up" data-aos-duration="1000" data-aos-delay="1200">Height: {{sub.height}}</p>
                   <p data-aos="fade-up" data-aos-duration="1000" data-aos-delay="1400">Weight: {{sub.weight}}</p>
               </div>
           </div>
       </div>
   </div>

   <section class="sec1">
       <div class="container">
           <div class="row">
               <div class="offset-sm-2 col-sm-8">
                   <div class="contentBox">
                       <div>
                           <h2 data-aos="fade-up" data-aos-duration="1000" data-aos-delay="0">Lower Limb Gait Analysis</h2>
                       </div>
                   </div>
               </div>
           </div>
           <div class="row">
               <div class="offset-lg-1 col-lg-10">
                   <div class="chartBox" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="500">
                       <div class="w100">
                           <div class="content">
                               <h4>Activities Timeline</h4>
                           </div>
                           <div class="box1 text-center">
                               <div class="w100">
                                   <div id="scattered-apex" ></div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </section>
    <section class="sec1">
       <div class="container">
           <div class="row">
               <div class="offset-lg-1 col-lg-10">
                   <div class="chartBox" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="500">
                       <div class="w100">
                           <div class="content">
                               <h4>Activities Heatmap</h4>
                           </div>
                           <div class="box1 text-center">
                               <div class="w100">
                                   <div id="heat_map" ></div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </section>
    <section class="sec1">
       <div class="container">
           <div class="row">
               <div class="col-sm-12 col-lg-6">
                   <div class="chartBox h400" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="0" >
                       <div class="w100">
                           <div class="content">
                               <h4>Total Strides per activity</h4>
                           </div>
                           <div class="box text-center">
                               <div class="w100">
                                   <div id="myChart-apex"></div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
               <div class="col-sm-12 col-lg-6">
                   <div class="chartBox h400" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="500" >
                       <div class="w100">
                           <div class="content">
                               <h4>Total distance per activity (m)</h4>
                           </div>
                           <div class="box text-center">
                               <div class="w100">
                                   <div id="bar-chart-horizontal-apex"></div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
           <div class="row">
               <div class="col-sm-12 col-lg-6">
                   <div class="chartBox h400" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="500" >
                       <div class="w100">
                           <div class="content">
                               <h4>Time Taken per activity (sec)</h4>
                           </div>
                           <div class="box text-center">
                               <div>
                                   <div id="doughnut-chart-apex"></div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
               <div class="col-sm-12 col-lg-6">
                   <div class="chartBox h400" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="0" >
                       <div class="w100">
                           <div class="content">
                               <h4>Total Staircase</h4>
                           </div>
                           <div class="box text-center">
                               <div class="w100">
                                   <div id="myChart_staircase-apex"></div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
           <div class="row">
               <div class="col-sm-14 col-lg-6">
                   <div class="chartBox h400" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="500" >
                       <div class="w100">
                           <div class="content">
                               <h4> Stance vs Swing percentage </h4>
                           </div>
                           <div class="box text-center">
                               <div>
                                   <div id="chart-vs"></div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
               <div class="col-sm-14 col-lg-6">
                   <div class="chartBox h400" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="500" >
                       <div class="w100">
                           <div class="content">
                               <h4>Cadence (steps/min) </h4>
                           </div>
                           <div class="box text-center">
                               <div>
                                   <div id="cadence"></div>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>

           </div>

       </div>

   </section>

   <section class="sec1">
       <div class="container">
           <div class="row">
               <div class="offset-sm-2 col-sm-8">
                   <div class="content">
                       <div class="border-2">
                           <h3 data-aos="fade-up" data-aos-duration="1000" data-aos-delay="0" >Total Statistics</h3>
                           <h4 data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200" >Average Stride Length = {{mean_val.0}} m</h4>
                           <h4 data-aos="fade-up" data-aos-duration="1000" data-aos-delay="400" >Average Speed = {{data_out2.Avg_speed.0}} m/sec</h4>
                           <a class="btn btnD1" onclick="fn1();scroll_to_any('div1');" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="600" >show graphs</a>
                       </div>
                   </div>
               </div>
           </div>
           <div id="div1">
               <div class="row">
                   <div class="col-sm-12 col-lg-6">
                       <div class="chartBox">
                           <div class="w100">
                               <div class="box text-center">
                                   <div class="w100">
                                       <div id="total_stridel-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h4>Average Stride Length</h4>
                               </div>
                           </div>
                       </div>
                   </div>
                   <div class="col-sm-12 col-lg-6">
                       <div class="chartBox">
                           <div class="w100">
                               <div class="box text-center">
                                   <div class="w100">
                                       <div id="speed-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h4>Average Speed</h4>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </section>
   <section class="sec1">
       <div class="container">
           <div class="row">
               <div class="col-sm-12 col-lg-4">
                   <div class="content">
                       <div class="border-2" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="0">
                           <h3>Ground Walking</h3>
                           <h5>Average Stride Length = {{data_out2.Avg_stride_length.0}} m</h5>
                           <h5>Average Speed = {{data_out2.Avg_speed.0}} m/s</h5>
                           <h5>Average Stride Time = {{data_out2.Avg_stride_time.0}} s</h5>

                           <a class="btn btnD1" onclick="fn2();scroll_to_any('div2');">show graphs</a>
                       </div>
                   </div>
               </div>
               <div class="col-sm-12 col-lg-4">
                   <div class="content">
                       <div class="border-2" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="1000">
                           <h3>Ramp Ascent</h3>
                           <h5>Average Stride Length = {{data_out2.Avg_stride_length.1}} m</h5>
                           <h5>Average Speed = {{data_out2.Avg_speed.1}} m/s</h5>
                           <h5>Average Stride Time = {{data_out2.Avg_stride_time.1}} s</h5>

                           <a class="btn btnD1" onclick="fn3();scroll_to_any('div3');">show graphs</a>
                       </div>
                   </div>
               </div>
               <div class="col-sm-12 col-lg-4">
                   <div class="content">
                       <div class="border-2" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="500">
                           <h3>Ramp Descent</h3>
                           <h5>Average Stride Length = {{data_out2.Avg_stride_length.2}} m</h5>
                           <h5>Average Speed = {{data_out2.Avg_speed.2}} m/s</h5>
                           <h5>Average Stride Time = {{data_out2.Avg_stride_time.2}} s</h5>

                           <a class="btn btnD1"  onclick="fn4();scroll_to_any('div4');">show graphs</a>
                       </div>
                   </div>
               </div>
           </div>

           <div id="div2">
               <div class="row">
                   <div class="col-sm-12 col-lg-4">
                       <div class="chartBox">
                           <div  class="w100">
                               <div class="box2 text-center">
                                   <div class="w100">
                                       <div id="grd_sl-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h5>Average Stride Length = {{data_out2.Avg_stride_length.0}} m</h5>
                               </div>
                           </div>
                       </div>
                   </div>
                   <div class="col-sm-12 col-lg-4">
                       <div class="chartBox">
                           <div class="w100">
                               <div class="box2 text-center">
                                   <div class="w100">
                                       <div id="grd_speed-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h5>Average Speed = {{data_out2.Avg_speed.0}} m/sec</h5>
                               </div>
                           </div>
                       </div>
                   </div>
                   <div class="col-sm-12 col-lg-4">
                       <div class="chartBox">
                           <div class="w100">
                               <div class="box2 text-center">
                                   <div class="w100">
                                       <div id="grd_time-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h5>Average Time = {{data_out2.Avg_stride_time.0}}</h5>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
           <div id="div3">
               <div class="row">
                   <div class="col-sm-12 col-lg-4">
                       <div class="chartBox">
                           <div class="w100">
                               <div class="box2 text-center">
                                   <div class="w100">
                                       <div id="asc_sl-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h5>Average Stride Length = {{data_out2.Avg_stride_length.1}}</h5>
                               </div>
                           </div>
                       </div>
                   </div>
                   <div class="col-sm-12 col-lg-4">
                       <div class="chartBox">
                           <div class="w100">
                               <div class="box2 text-center">
                                   <div class="w100">
                                       <div id="asc_speed-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h5>Average Speed = {{data_out2.Avg_speed.1}}</h5>
                               </div>
                           </div>
                       </div>
                   </div>
                   <div  class="col-sm-12 col-lg-4">
                       <div class="chartBox">
                           <div class="w100">
                               <div class="box2 text-center">
                                   <div class="w100">
                                       <div id="asc_time-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h5>Average Time = {{data_out2.Avg_stride_time.1}}</h5>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
           <div id="div4">
               <div class="row">
                   <div class="col-sm-12 col-lg-4">
                       <div class="chartBox">
                           <div class="w100">
                               <div class="box2 text-center">
                                   <div class="w100">
                                       <div id="des_sl-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h5>Average Stride Length = {{data_out2.Avg_stride_length.2}}</h5>
                               </div>
                           </div>
                       </div>
                   </div>
                   <div class="col-sm-12 col-lg-4">
                       <div class="chartBox">
                           <div class="w100">
                               <div class="box2 text-center">
                                   <div class="w100">
                                       <div id="des_speed-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h5>Average Speed = {{data_out2.Avg_speed.2}}</h5>
                               </div>
                           </div>
                       </div>
                   </div>
                   <div class="col-sm-12 col-lg-4">
                       <div class="chartBox">
                           <div class="w100">
                               <div class="box2 text-center">
                                   <div class="w100">
                                       <div id="des_time-apex"></div>
                                   </div>
                               </div>
                               <div class="content">
                                    <h5>Average Time = {{data_out2.Avg_stride_time.2}}</h5>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </section>
   <section class="sec1">
       <div class="container">
           <div class="row">
               <div class="offset-sm-2 col-sm-8">
                   <div class="contentBox" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="0">
                       <h2>Summary</h2>
                   </div>
               </div>
           </div>
           <div class="row">
               <div class="offset-sm-2 col-sm-8 text-center">
                   <div class="content" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200" >
                        <h4>Stride length Summary</h4>
                   </div>
                   <table class="myTable" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="400" >
                       <thead>
                           <tr>
                               <th scope="col">Activity</th>
                               <th scope="col">Count</th>
                               <th scope="col">Mean</th>
                               <th scope="col">Median</th>
                               <th scope="col">Std</th>
                               <th scope="col">Min</th>
                               <th scope="col">Max</th>
                           </tr>
                       </thead>
                       <tbody>
                            <tr>
                                <th scope="row">{{describe_sl.index.0}}</th>
                                <td>{{describe_sl.count.0}}</td>
                                <td>{{describe_sl.mean.0}}</td>
                                <td>{{describe_sl.median.0}}</td>
                                <td>{{describe_sl.std.0}}</td>
                                <td>{{describe_sl.min.0}}</td>
                                <td>{{describe_sl.max.0}}</td>
                            </tr>
                            <tr>
                                <th scope="row">{{describe_sl.index.1}}</th>
                                <td>{{describe_sl.count.1}}</td>
                                <td>{{describe_sl.mean.1}}</td>
                                <td>{{describe_sl.median.1}}</td>
                                <td>{{describe_sl.std.1}}</td>
                                <td>{{describe_sl.min.1}}</td>
                                <td>{{describe_sl.max.1}}</td>
                            </tr>
                            <tr>
                                <th scope="row">{{describe_sl.index.2}}</th>
                                <td>{{describe_sl.count.2}}</td>
                                <td>{{describe_sl.mean.2}}</td>
                                <td>{{describe_sl.median.2}}</td>
                                <td>{{describe_sl.std.2}}</td>
                                <td>{{describe_sl.min.2}}</td>
                                <td>{{describe_sl.max.2}}</td>
                            </tr>
                       </tbody>
                   </table>
               </div>
           </div>
           <div class="row">
               <div class="offset-sm-2 col-sm-8 text-center">
                   <div class="content" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200" >
                        <h4>Stride Speed Summary</h4>
                   </div>
                   <table class="myTable" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="400" >
                       <thead>
                           <tr>
                               <th scope="col">Activity</th>
                               <th scope="col">Count</th>
                               <th scope="col">Mean</th>
                               <th scope="col">Median</th>
                               <th scope="col">Std</th>
                               <th scope="col">Min</th>
                               <th scope="col">Max</th>
                           </tr>
                       </thead>
                       <tbody>
                            <tr>
                                <th scope="row">{{describe_sd.index.0}}</th>
                                <td>{{describe_sd.count.0}}</td>
                                <td>{{describe_sd.mean.0}}</td>
                                <td>{{describe_sd.median.0}}</td>
                                <td>{{describe_sd.std.0}}</td>
                                <td>{{describe_sd.min.0}}</td>
                                <td>{{describe_sd.max.0}}</td>
                            </tr>
                            <tr>
                                <th scope="row">{{describe_sd.index.1}}</th>
                                <td>{{describe_sd.count.1}}</td>
                                <td>{{describe_sd.mean.1}}</td>
                                <td>{{describe_sd.median.1}}</td>
                                <td>{{describe_sd.std.1}}</td>
                                <td>{{describe_sd.min.1}}</td>
                                <td>{{describe_sd.max.1}}</td>
                            </tr>
                            <tr>
                                <th scope="row">{{describe_sd.index.2}}</th>
                                <td>{{describe_sd.count.2}}</td>
                                <td>{{describe_sd.mean.2}}</td>
                                <td>{{describe_sd.median.2}}</td>
                                <td>{{describe_sd.std.2}}</td>
                                <td>{{describe_sd.min.2}}</td>
                                <td>{{describe_sd.max.2}}</td>
                            </tr>
                       </tbody>
                   </table>
               </div>
           </div>
       </div>
   </section>

    <section class="sec1">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-sm-12">
                    <div class="contentBox">
                        <div>
                            <form method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <input type="hidden" id="img_1" name="image_1">

                                <input type="hidden" id="img_2_1" name="image_2_1">
                                <input type="hidden" id="img_2_2" name="image_2_2">

                                <input type="hidden" id="img_3_1_1" name="image_3_1_1">
                                <input type="hidden" id="img_3_1_2" name="image_3_1_2">
                                <input type="hidden" id="img_3_1_3" name="image_3_1_3">

                                <input type="hidden" id="img_3_2_1" name="image_3_2_1">
                                <input type="hidden" id="img_3_2_2" name="image_3_2_2">
                                <input type="hidden" id="img_3_2_3" name="image_3_2_3">

                                <input type="hidden" id="img_3_3_1" name="image_3_3_1">
                                <input type="hidden" id="img_3_3_2" name="image_3_3_2">
                                <input type="hidden" id="img_3_3_3" name="image_3_3_3">

                                <input type="hidden" id="img_4_1" name="image_4_1">

                                <input type="hidden" id="img_4_2" name="image_4_2">

                                <input type="hidden" id="img_4_3" name="image_4_3">

                                <input type="hidden" id="img_4_4" name="image_4_4">

                                <input type="hidden" id="img_4_5" name="image_4_5">

                                <input type="hidden" id="img_4_6" name="image_4_6">

                                <input type="hidden" id="img_4_7" name="image_4_7">

                                <button type="button" id="custom-button" class="btn btnD1">Download Report</button>
                                <input type="submit" name="save" id="save" hidden="hidden">
                            </form>
                        </div>
                    </div>
                </div>
           </div>
        </div>
    </section>



{% endblock %}

{% block script %}

    <!-- apexcharts CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.19.2/apexcharts.js" integrity="sha256-bG1Re1uhZ/jg7Gyb6dSh066WlbVqDmtYARtM6bYt948=" crossorigin="anonymous"></script>

    <script type="text/javascript">

        /* ==========================================================

                            display and hide sections

        ============================================================= */



        document.getElementById("div1").style.display= "none";
        document.getElementById("div2").style.display= "none";
        document.getElementById("div3").style.display= "none";
        document.getElementById("div4").style.display= "none";

        function fn1() {
            if (document.getElementById("div1").style.display === "none") {
                document.getElementById("div1").style.display= "block";
                document.getElementById("div2").style.display= "none";
                document.getElementById("div3").style.display= "none";
                document.getElementById("div4").style.display= "none";
            }
        }
        function fn2() {
            if (document.getElementById("div2").style.display === "none") {
                document.getElementById("div2").style.display= "block";
                document.getElementById("div1").style.display= "none";
                document.getElementById("div3").style.display= "none";
                document.getElementById("div4").style.display= "none";
            }
        }
        function fn3() {
            if (document.getElementById("div3").style.display === "none") {
                document.getElementById("div3").style.display= "block";
                document.getElementById("div1").style.display= "none";
                document.getElementById("div2").style.display= "none";
                document.getElementById("div4").style.display= "none";
            }
        }
        function fn4() {
            if (document.getElementById("div4").style.display === "none") {
                document.getElementById("div4").style.display= "block";
                document.getElementById("div1").style.display= "none";
                document.getElementById("div2").style.display= "none";
                document.getElementById("div3").style.display= "none";
            }
        }



        /* ==========================================================

                            activities chart

        ============================================================= */



        var all = [];
        for (i = 1; i < {{activity_all}}.length; i++) {
            all.push(i);
        }

        var options20 = {
            series: [{
                name: 'Activity',
                data: {{activity_all}},
            }],
            chart: {
                type: 'area',
                width: "100%",
                height: 300,
                background: '#252525',
            },
            stroke: {
                curve: 'stepline',
            },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                type: 'numeric',
                categories: all,
                title: {
                    text: 'time (Sec)',
                    style:{
                    color:"#D3D3D3"
                    },
                },
                tickAmount: 50,
                labels:{
                    hideOverlappingLabels: true,
                    style:{
                        fontSize: '11px',
                        colors:"#D3D3D3"
                    },
                },
            },
            yaxis: {
                seriesName: ["Sitting", "Walking", "Ramp Ascent", "Ramp Descent", "Stair Ascent", "Stair Descent", "Standing"],
                title: {
                    text: 'Activities',
                    style:{
                        color:"#D3D3D3"
                    },
                },

                tickAmount: 7,
                labels: {
                    formatter: function(val, index) {
                        if(val == 0){ return "Sitting"};
                        if(val == 1){ return "Walking"};
                        if(val == 2){ return "Ramp As"};
                        if(val == 3){ return "Ramp Des"};
                        if(val == 4){ return "Stair As"};
                        if(val == 5){ return "Stair Des"};
                        if(val == 6){ return "Standing"};
                    },
                    style:{
                    colors:"#D3D3D3"
                    },
                },

            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };


        var chart_1 = new ApexCharts(document.querySelector("#scattered-apex"), options20);
        chart_1.render();



        /* ==========================================================

                            total speed and strides charts

        ============================================================= */



        var lbl_mas = [];
        for (i = 1; i < {{mas_1}}.length; i++) {
            lbl_mas.push(i);
        }

        var options14 = {
            series: [{
                name: 'Stride Speed',
                data: {{mas_1}},
            }],
            chart: {
                type: 'area',
                width: "100%",
                height: 300,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                type: 'category',
                categories: lbl_mas,
                labels:{
                    hideOverlappingLabels: true,
                    style:{
                        colors:'#D3D3D3'
                    },
                },
                title: {
                    text: 'Number of Stride',
                    style:{
                        color:'#D3D3D3'
                        },
                }
            },
            yaxis: {
                title: {
                    text: 'Stride Speed (m/sec)',
                    style:{
                        color:'#D3D3D3'
                        },
                },
                tickAmount: 6,
                min: 0,
                max: 1.8,
                labels: {
                    style:{
                        colors:'#D3D3D3'
                        },
                    formatter: function(val, index) {
                        return val.toFixed(2);
                    }
                }
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_2_1 = new ApexCharts(document.querySelector("#speed-apex"), options14);
        chart_2_1.render();


        var options15 = {
            series: [{
                name: 'Stride Length',
                data: {{mast_2}},
            }],
            chart: {
                type: 'area',
                width: "100%",
                height: 300,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                categories: lbl_mas,
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                title: {
                    text: 'Number of Stride',
                    style:{
                        color:'#D3D3D3'
                        },
                }
            },
            yaxis: {
                title: {
                    text: 'Stride Length (meter)',
                    style:{
                        color:'#D3D3D3'
                        },
                },
                tickAmount: 6,
                min: 0,
                max: 1.8,
                labels: {
                    style:{
                        colors:'#D3D3D3'
                        },
                    formatter: function(val, index) {
                        return val.toFixed(2);
                    }
                }
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_2_2 = new ApexCharts(document.querySelector("#total_stridel-apex"), options15);
        chart_2_2.render();



        /* ==========================================================

                            level ground walking charts

        ============================================================= */



        var lbl_grd = [];
        for (i = 1; i < {{grd_sl}}.length; i++) {
            lbl_grd.push(i);
        }

        var options11 = {
            series: [{
                name: 'Stride length',
                data: {{grd_sl}},
            }],
            chart: {
                type: 'area',
                width:"100%",
                height: 250,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                categories: lbl_grd,
                labels:{
                style:{
                    colors:'#D3D3D3'
                    },
                },
                title: {
                    text: 'Number of Stride',
                    style:{
                    color:'#D3D3D3'
                    },
                }
            },
            yaxis: {
                labels:{
                style:{
                    colors:'#D3D3D3'
                    },
                },
                title: {
                    text: 'Stride Length (m)',
                    style:{
                    color:'#D3D3D3'
                    },
                },
                min: 0,
                max: 1.8,
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_3_1_1 = new ApexCharts(document.querySelector("#grd_sl-apex"), options11);
        chart_3_1_1.render();


        var options12 = {
            series: [{
                name: 'Speed',
                data: {{grd_speed}},
            }],
            chart: {
                type: 'area',
                width:"100%",
                height: 250,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                categories: lbl_grd,
                labels:{
                style:{
                    colors:'#D3D3D3'
                    },
                },
                title: {
                    text: 'Number of Stride',
                    style:{
                    color:'#D3D3D3'
                    },
                }
            },
            yaxis: {
                labels:{
                style:{
                    colors:'#D3D3D3'
                    },
                },
                title: {
                    text: 'Speed (m/sec)',
                    style:{
                    color:'#D3D3D3'
                    },
                },
                min: 0,
                max: 1.8,
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_3_1_2 = new ApexCharts(document.querySelector("#grd_speed-apex"), options12);
        chart_3_1_2.render();

        var options13 = {
            series: [{
                name: 'Stride time',
                data: {{grd_time}},
            }],
            chart: {
                type: 'area',
                width:"100%",
                height: 250,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                labels:{
                style:{
                    colors:'#D3D3D3'
                    },
                },
                categories: lbl_grd,
                title: {
                    text: 'Number of Stride',
                    style:{
                    color:'#D3D3D3'
                    },
                }
            },
            yaxis: {
                labels:{
                style:{
                    colors:'#D3D3D3'
                    },
                },
                title: {
                    text: 'Stride time (sec)',
                    style:{
                    color:'#D3D3D3'
                    },
                },
                min: 0,
                max: 1.8,
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_3_1_3 = new ApexCharts(document.querySelector("#grd_time-apex"), options13);
        chart_3_1_3.render();



        /* ==========================================================

                            Ramp Ascending charts

        ============================================================= */



        var lbl_asc = [];
        for (i = 1; i < {{asc_sl}}.length; i++) {
            lbl_asc.push(i);
        }

        var options8 = {
            series: [{
                name: 'Stride length',
                data: {{asc_sl}},
            }],
            chart: {
                type: 'area',
                width:"100%",
                height: 250,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                categories: lbl_asc,
                labels:{
                style:{
                    colors:'#D3D3D3'
                    },
                },
                title: {
                    text: 'Number of Stride',

                    style:{
                        color:'#D3D3D3'
                        },

                    }
            },
            yaxis: {
                labels:{
                style:{
                    colors:'#D3D3D3'
                    },
                },
                title: {
                    text: 'Stride Length (m)',
                    style:{
                        color:'#D3D3D3'
                        },

                },
                min: 0,
                max: 1.8,
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_3_2_1 = new ApexCharts(document.querySelector("#asc_sl-apex"), options8);
        chart_3_2_1.render();

        var options9 = {
            series: [{
                name: 'Speed',
                data: {{asc_speed}},
            }],
            chart: {
                type: 'area',
                width:"100%",
                height: 250,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                categories: lbl_asc,
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                title: {
                    text: 'Number of Stride',
                    style:{
                        color:'#D3D3D3'
                        },
                }
            },
            yaxis: {
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                title: {
                    text: 'Speed (m/sec)',
                    style:{
                        color:'#D3D3D3'
                        },
                },
                min: 0,
                max: 1.8,
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_3_2_2 = new ApexCharts(document.querySelector("#asc_speed-apex"), options9);
        chart_3_2_2.render();

        var options10 = {
            series: [{
                name: 'Stride time',
                data: {{asc_time}},
            }],
            chart: {
                type: 'area',
                width:"100%",
                height: 250,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                categories: lbl_asc,
                title: {
                    text: 'Number of Stride',
                    style:{
                        color:'#D3D3D3'
                        },
                }
            },
            yaxis: {
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                title: {
                    text: 'Stride time (sec)',
                    style:{
                        color:'#D3D3D3'
                        },
                },
                min: 0,
                max: 1.8,
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_3_2_3 = new ApexCharts(document.querySelector("#asc_time-apex"), options10);
        chart_3_2_3.render();



        /* ==========================================================

                            Ramp descending charts

        ============================================================= */



        var lbl_des = [];
        for (i = 1; i < {{des_sl}}.length; i++) {
            lbl_des.push(i);
        }

        var options5 = {
            series: [{
                name: 'Stride length',
                data: {{des_sl}},
            }],
            chart: {
                type: 'area',
                width:"100%",
                height: 250,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                categories: lbl_des,
                title: {
                    text: 'Number of Stride',
                    style:{
                        color:'#D3D3D3'
                        },
                }
            },
            yaxis: {
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                title: {
                    text: 'Stride Length (m)',
                    style:{
                        color:'#D3D3D3'
                        },
                },
                min: 0,
                max: 1.8,
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_3_3_1 = new ApexCharts(document.querySelector("#des_sl-apex"), options5);
        chart_3_3_1.render();


        var options6 = {
            series: [{
                name: 'Speed',
                data: {{des_speed}},
            }],
            chart: {
                type: 'area',
                width:"100%",
                height: 250,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                categories: lbl_des,
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                title: {
                    text: 'Number of Stride',
                    style:{
                        color:'#D3D3D3'
                        },
                }
            },
            yaxis: {
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                title: {
                    text: 'Speed (m/sec)',
                    style:{
                        color:'#D3D3D3'
                        },
                },
                min: 0,
                max: 1.8,
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_3_3_2 = new ApexCharts(document.querySelector("#des_speed-apex"), options6);
        chart_3_3_2.render();

        var options7 = {
            series: [{
                name: 'Stride time',
                data: {{des_time}},
            }],
            chart: {
                type: 'area',
                width:"100%",
                height: 250,
                background: '#252525',
            },
            stroke: {
                curve: 'smooth'
             },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                categories: lbl_des,
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                title: {
                    text: 'Number of Stride',
                    style:{
                        color:'#D3D3D3'
                        },
                }
            },
            yaxis: {
                labels:{
                style:{
                        colors:'#D3D3D3'
                        },
                },
                title: {
                    text: 'Stride time (sec)',
                    style:{
                        color:'#D3D3D3'
                        },
                },
                min: 0,
                max: 1.8,
            },
            colors:["#1E82E6"],
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_3_3_3 = new ApexCharts(document.querySelector("#des_time-apex"), options7);
        chart_3_3_3.render();



        /* ==========================================================

                            no. of strides charts

        ============================================================= */



        var options4 = {
            series: [{
                name: '# of Strides',
                data: [{{data_out2.Total_strides.0}},{{data_out2.Total_strides.1}},{{data_out2.Total_strides.2}}],
            }],
            chart: {
                type: 'bar',
                width:"100%",
                height: 300,
                background: '#252525',
            },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                categories: ['Walking', 'Ramp As', 'Ramp Des'],
                labels:{
                    style: {
                          colors: ["#D3D3D3","#D3D3D3","#D3D3D3"],
                      },
                  },
            },
            yaxis: {
                labels: {

                     style: {
                         colors: '#D3D3D3',

                     },
                 },
                title: {
                    text: '# of Strides',
                    style: {
                          color: '#D3D3D3'
                      },
                },

            },
            colors: ['#ED5959','#ec7424',"#118ab2"],
               plotOptions: {
               bar: {
                 distributed: true,

               }
             },
             legend: {
             show:false
             },
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {

                    chart: {
                        height: 200,

                    },
                },
            }],
        };

        var chart_4_1 = new ApexCharts(document.querySelector("#myChart-apex"), options4);
        chart_4_1.render();



        /* ==========================================================

                            bar-horizontal chart

        ============================================================= */



        var options3 = {
            series: [{
                name: 'Total Distance in meters',
                data: [{{data_out2.Total_distance.0}},{{data_out2.Total_distance.1}},{{data_out2.Total_distance.2}}]
            }],
            chart: {
                type: 'bar',
                height: 300,
                background: '#252525',
            },
            dataLabels: {
                enabled: false
            },
            plotOptions: {
                bar: {
                    distributed: true,
                    horizontal: true,
                }
            },
            xaxis: {
                categories: ["Walking", "Ramp As", "Ramp Des"],
                labels:{
                    style: {
                          colors: ["#D3D3D3"],

                      },
                  },


            },
            colors:['#ED5959','#ec7424',"#118ab2"],
            yaxis: {
                labels:{
                style:{
                    colors:['#D3D3D3','#D3D3D3','#D3D3D3']
                },
                },
            },
            legend: {
             show:false
             },
            grid: {
                show: false,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_4_2 = new ApexCharts(document.querySelector("#bar-chart-horizontal-apex"), options3);
        chart_4_2.render();



        /* ==========================================================

                            donut chart

        ============================================================= */



        var options1 = {
            chart: {
                height: 300,
                type: 'donut',
                background: '#252525',
            },
            series: [{{data_out2.Total_time.0}},{{data_out2.Total_time.1}},{{data_out2.Total_time.2}},{{data_out2.Total_time.3}},{{data_out2.Total_time.4}}],
            labels: ["Walking", "Ramp As", "Ramp Des","Stairs As", "Stairs Des"],
            colors:[ '#ED5959','#ec7424', "#118ab2", '#4D9D9C', '#474898'],
            legend: {
                labels:{
                colors:['#D3D3D3']
                },
                show: true,
                position: 'bottom',
                onItemClick: {
                    toggleDataSeries: true,
                },
                onItemHover: {
                    highlightDataSeries: true,
                },
            },
            dataLabels: {
                enabled: false,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                    legend: {
                        position: 'right',
                    }
                },
            }],
        };

        var chart_4_3 = new ApexCharts(document.querySelector("#doughnut-chart-apex"), options1);
        chart_4_3.render();



        /* ==========================================================

                            stairs case chart

        ============================================================= */



        var options2 = {
            series: [{
                name: '# of Stair steps',
                data: [{{data_out2.Total_strides.3}}, {{data_out2.Total_strides.4}}]
            }],
            chart: {
                type: 'bar',
                width:"100%",
                height: 300,
                background: '#252525',
            },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                categories: ['Stairs As', 'Stairs Des'],
                labels:{
                    style: {
                          colors: ["#D3D3D3","#D3D3D3"],

                      },
                  },
            },
            yaxis: {
                labels: {

                     style: {
                         colors: '#D3D3D3',

                     },
                 },
                title: {
                    text: '# of Stairs',
                    style: {
                          color: '#D3D3D3'
                      },
                },

            },
            colors:['#4D9D9C', '#474898'],
            legend:{
            show:false
            },
            plotOptions: {
               bar: {
                 distributed: true,

               }
             },
            grid: {
                show: true,
                borderColor: '#121212',
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_4_4 = new ApexCharts(document.querySelector("#myChart_staircase-apex"), options2);
        chart_4_4.render();



        /* ==========================================================

                                Heat chart

        ============================================================= */



        var options_heat = {
            series: [
            {
                name: "Sitting",
                data: {{lst_map.0}}
            },
            {
                name: "Walking",
                data: {{lst_map.1}}
            },
            {
                name: "Ramp As",
                data: {{lst_map.2}}
            },
            {
                name: "Ramp Des",
                data: {{lst_map.3}}
            },
            {
                name: "Stair As",
                data: {{lst_map.4}}
            },
            {
                name: "Stair Des",
                data: {{lst_map.5}}
            },
            {
                name: "Standing",
                data: {{lst_map.6}}
            },

            ],
            chart: {
                height: 300,
                type: "heatmap",
                background: '#252525',
            },
            dataLabels: {
                enabled: false
            },

            xaxis: {
                type: "category",
                categories: {{lst_map.7}},
                title: {
                    text: 'Time (sec)',

                    style: {
                        color: "#D3D3D3",
                    },
                },
                labels:{
                    style: {
                          colors: "#D3D3D3",
                    },
                },
            },
            yaxis: {
                labels:{
                    style: {
                        colors: "#D3D3D3",
                    },
                },
            },
            grid: {
                show:false,
                padding: {
                    right: 20
                }
            },
            legend:{
                labels:{
                    colors:"#D3D3D3"
                },
            },
            plotOptions: {
                heatmap: {
                    enableShades: false,
                    shadeIntensity: 1,
                    colorScale: {
                        ranges: [
                        {
                            from: 0,
                            to: 0,
                            name: "doesn't exist",
                            color: '#fbe9e7'
                        },
                        {
                            from: 1,
                            to: 3,
                            name: "low",
                            color: '#ffccbc'
                        },
                        {
                            from: 4,
                            to: 7,
                            name: "medium",
                            color: '#ff8a65'

                        },
                        {
                            from: 8,
                            to: 30,
                            name: "high",
                            color: '#ff5722'
                        }
                        ]
                    }
                }
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,
                    },
                },
            }],
        };

        var chart_4_5 = new ApexCharts(document.querySelector("#heat_map"), options_heat);
        chart_4_5.render();



        /* ==========================================================

                           stand Vs Swing chart

        ============================================================= */



        var options30 = {
            series: [{
                name: 'stance%',
                data: [{{data_out2.Avg_stance.0}},{{data_out2.Avg_stance.1}},{{data_out2.Avg_stance.2}}]
            }, {
                name: 'swing%',
                data: [{{data_out2.Avg_swing.0}},{{data_out2.Avg_swing.1}},{{data_out2.Avg_swing.2}}]
            }],
            chart: {
                type: 'bar',
                height: 300,
                background: '#252525',
            },
            plotOptions: {
                bar: {
                    horizontal: false,
                    columnWidth: '55%',
                },
            },
            dataLabels: {
                enabled: false
            },
            stroke: {
                show: true,
                width: 2,
                colors: ['transparent']
            },
            colors:[ '#474898','#ec7424'],
            xaxis: {
                categories: ['Walking', 'Ramp Ascent', 'Ramp Descent'],
                labels:{
                    style: {
                          colors: "#D3D3D3",
                    },
                },
            },
            yaxis: {
                labels:{
                    style: {
                          colors: "#D3D3D3",

                    },
                },
                title: {
                    text: 'percentage',
                    style:{
                    color:"#D3D3D3"
                    },
                }
            },
            fill: {
                opacity: 1
            },
            tooltip: {
                y: {
                    formatter: function (val) {
                        return val + " s"
                    }
                }
            },
            grid: {
                show: true,
                borderColor: '#121212',
            },
            legend:{
                labels:{
                    colors:"#D3D3D3"
                },
            },
        };

        var chart_4_6 = new ApexCharts(document.querySelector("#chart-vs"), options30);
        chart_4_6.render();



        /* ==========================================================

                            Cadence Chart

        ============================================================= */



        var options_cadence = {
            series: [{
                name: '# of Strides',
                data: [{{data_out2.Avg_cadence.0}},{{data_out2.Avg_cadence.1}},{{data_out2.Avg_cadence.2}},{{data_out2.Avg_cadence.3}},{{data_out2.Avg_cadence.4}}],
            }],
            chart: {
                type: 'bar',
                width:"100%",
                height: 300,
                background: '#252525',
            },
            dataLabels: {
                enabled: false
            },
            xaxis: {
                categories: ['Walking', 'Ramp As', 'Ramp Des','Stair As','Stair Des'],
                labels:{
                    style: {
                          colors: '#D3D3D3',
                      },
                  },
            },
            yaxis: {
                labels: {

                     style: {
                         colors: '#D3D3D3',

                     },
                 },
                title: {
                    text: 'steps/min',
                    style: {
                          color: '#D3D3D3'
                      },
                },

            },
            colors:[ '#ED5959','#ec7424', "#118ab2", '#4D9D9C', '#474898'],
               plotOptions: {
               bar: {
                 distributed: true,

               }
             },
             legend: {
             show:false
             },
            grid: {
                show: true,
                borderColor: '#121212',
            },
            zoom: {
                type: 'x',
                enabled: true,
            },
            responsive: [{
                breakpoint: 1000,
                options: {
                    chart: {
                        height: 200,

                    },
                },
            }],
        };

        var chart_4_7 = new ApexCharts(document.querySelector("#cadence"), options_cadence);
        chart_4_7.render();



        /* ==========================================================

                            Sending charts to back-end

        ============================================================= */


        document.getElementById("custom-button").addEventListener("click", function(){

            document.getElementById("div4").style.display= "block";
            document.getElementById("div1").style.display= "block";
            document.getElementById("div2").style.display= "block";
            document.getElementById("div3").style.display= "block";


            setTimeout(function(){

                var dataURL_1 = chart_1.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_1").value = imgURI;
                });



                var dataURL_2_1 = chart_2_1.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_2_1").value = imgURI;
                });
                var dataURL_2_2 = chart_2_2.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_2_2").value = imgURI;
                });



                var dataURL_3_1_1 = chart_3_1_1.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_3_1_1").value = imgURI;
                });
                var dataURL_3_1_2 = chart_3_1_2.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_3_1_2").value = imgURI;
                });
                var dataURL_3_1_3 = chart_3_1_3.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_3_1_3").value = imgURI;
                });



                var dataURL_3_2_1 = chart_3_2_1.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_3_2_1").value = imgURI;
                });
                var dataURL_3_2_2 = chart_3_2_2.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_3_2_2").value = imgURI;
                });
                var dataURL_3_2_3 = chart_3_2_3.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_3_2_3").value = imgURI;
                });



                var dataURL_3_3_1 = chart_3_3_1.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_3_3_1").value = imgURI;
                });
                var dataURL_3_3_2 = chart_3_3_2.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_3_3_2").value = imgURI;
                });
                var dataURL_3_3_3 = chart_3_3_3.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_3_3_3").value = imgURI;
                });



                var dataURL_4_1 = chart_4_1.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_4_1").value = imgURI;
                });



                var dataURL_4_2 = chart_4_2.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_4_2").value = imgURI;
                });



                var dataURL_4_3 = chart_4_3.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_4_3").value = imgURI;
                });



                var dataURL_4_4 = chart_4_4.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_4_4").value = imgURI;
                });

                var dataURL_4_5 = chart_4_5.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_4_5").value = imgURI;
                });

                var dataURL_4_6 = chart_4_6.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_4_6").value = imgURI;
                });

                var dataURL_4_7 = chart_4_7.dataURI().then(({ imgURI, blob }) => {
                    document.getElementById("img_4_7").value = imgURI;
                });


                Promise.all([dataURL_1, dataURL_2_1, dataURL_2_2,
                             dataURL_3_1_1, dataURL_3_1_2, dataURL_3_1_3,
                             dataURL_3_2_1, dataURL_3_2_2, dataURL_3_2_3,
                             dataURL_3_3_1, dataURL_3_3_2, dataURL_3_3_3,
                             dataURL_4_1, dataURL_4_2, dataURL_4_3, dataURL_4_4,
                             dataURL_4_5, dataURL_4_6, dataURL_4_7]).then( values => {

                    document.getElementById("save").click();

                    document.getElementById("div4").style.display= "none";
                    document.getElementById("div1").style.display= "none";
                    document.getElementById("div2").style.display= "none";
                    document.getElementById("div3").style.display= "none";


                });

            }, 500);

        });


        function scroll_to_any(element_id) {

            var element = document.getElementById(element_id);
            var y = element.offsetTop - 100;

            window.scrollTo(0, y);

        };

    </script>


{% endblock %}
